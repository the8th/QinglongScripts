# 青龙面板的漫画下载器

## 安装

在青龙面板依次点击： "依赖管理"  > 新建依赖
依赖类型:Nodejs
名称：输入包名

需安装这几个依赖包：undici,jsdom,crypto-js,compressing


## 配置项

在"脚本管理"中新增脚本,文件名：manga.js,将脚本复制进去后修改以下项目：

baseUrl: 配置网站地址
basePath: 配置本地储存路径

在"定时任务"中新建任务
命令: task manga.js
定时规则: 0 25 6 * * * (此处为cron表达式,表示每天6点26执行)


## 工作流程

1. 检查根目录是否存在，如不存在就创建
2. 抓取漫画首页(只抓第一页，页码设置为100.可以在"limit=100"处自己调整)
3. 对比本地数据，去除已下载内容
4. 建立未下载队列
5. 以漫画名称建立目录，将图片保存至目录
6. 将目录打包为zip,并删除目录